(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(9870)}])},9870:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var i=n(5893),s=n(1894),o=n(7642),r=n(7294);let l=(0,o.io)(void 0,{multiplex:!1});l.io.uri="https://socket-io-3i32.onrender.com";let u=()=>{let e=(0,r.useRef)(null),t=()=>{l.on("connect",()=>{console.log("Connected")}),l.on("disconnect",()=>{console.log("Disconnected")}),l.on("connect_error",async e=>{console.log("connect_error due to ".concat(e.message))}),e.current=l};(0,r.useEffect)(()=>{t()},[])};var a=n(5007),c=n(1656);let d=(e,t)=>{let n=[];if(n=[...e,{response:null==t?void 0:t.questions[0]}],t.questions&&t.questions.length>0){var i;n=[...e,...null==t?void 0:null===(i=t.questions)||void 0===i?void 0:i.map(e=>({response:e}))]}return n};function g(){var e;let[t,n]=(0,r.useState)([]),[o,g]=(0,r.useState)([]),[m,p]=(0,r.useState)(),v=(0,a.I0)(),[w,y]=(0,r.useState)(),[_,f]=(0,r.useState)(),[h,S]=(0,r.useState)(),k=(0,a.v9)(c.T1);u(),(0,r.useEffect)(()=>{let e=setTimeout(()=>l.volatile.emit("init",e=>{w&&t.length||(n(d(t,e)),y(e.activeKey),e.suggestions&&g(e.suggestions))}),1e3);return()=>clearTimeout(e)},[]),(0,r.useEffect)(()=>{if("close"===_){let e=new Date;_&&h&&(v((0,c.AM)({data:{...k[0],date:e.toLocaleString("en",{timeZone:"Europe/Berlin"})},endpoint:h})),f(void 0))}},[h]);let b=e=>{let i=[...t,{response:e,author:"Sintija"}];n(i),l.volatile.emit("update_item",w,e,t=>{try{f(t.id),t.type&&(console.log(h),S(t.type)),v((0,c.wo)({[_]:e}))}catch(e){console.log(e)}y(t.activeKey),i=d(i,t),t.suggestions&&g(t.suggestions),n(i),"button_select"===t.type&&p({title:t.title,description:t.description,answers:t.answers})})},j="syntia.birgele@gmail.com",x={title:"AI Assistant in Moderation",category:"Discovery & Analytics",time:"1 min",image:(0,i.jsx)(s.QV,{h:"2.5rem",w:"2.5rem",p:".3rem",borderRadius:"50%",border:"1px",mr:".75rem"}),isActive:!0};return t.length?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.TA,{onClickSuggestion:e=>{let i=o[e].answer;g([]),l.volatile.emit("update_item",w,o[e].key,e=>{let s=[...t,{response:i,author:"Sintija"}];f(e.id),"listening_init"===w&&v((0,c.wo)({connection:"open",...j&&{user_email:j}})),n(s=d(s,e)),e.suggestions&&g(e.suggestions),y(e.activeKey),"button_select"===e.type&&p({title:e.title,description:e.description,answers:e.answers})})},suggestions:o,history:t,onSubmit:e=>b(e),image:(0,i.jsx)(s.QV,{h:"2.5rem",w:"2.5rem",p:".1rem",borderRadius:"50%",m:"0 .5rem 0 0"}),conversations:[x],title:"AI Assistant in Sound Moderation",disabled:!!(null==m?void 0:null===(e=m.answers)||void 0===e?void 0:e.length)||!!o.length,children:m&&(0,i.jsx)(s.xu,{m:["1rem 0","1rem 0 1rem 5rem"],children:(0,i.jsx)(s.ui,{title:m.title,description:null==m?void 0:m.description,answers:m.answers,onClick:e=>{let i=null==m?void 0:m.answers.find(t=>t.key===e),s=[...t,{response:i.answer,author:"Sintija"}];l.volatile.emit("update_item",w||i.key,i.key,e=>{v((0,c.wo)({[_]:i.key})),y(e.activeKey),f(e.id),e.type&&S(e.type),s=d(s,e),e.suggestions&&g(e.suggestions),n(s),p(void 0),"button_select"===e.type&&p({title:e.title,description:e.description,answers:e.answers})})}})})})}):(0,i.jsx)(s.aN,{})}}},function(e){e.O(0,[642,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);